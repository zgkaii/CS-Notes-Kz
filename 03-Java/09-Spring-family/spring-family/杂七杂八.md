### 数据源相关配置属性  
通⽤  
- spring.datasource.url=jdbc:mysql://localhost/test
- spring.datasource.username=dbuser
- spring.datasource.password=dbpass
- spring.datasource.driver-class-name=com.mysql.jdbc.Driver（可选）

初始化内嵌数据库  
- spring.datasource.initialization-mode=embedded|always|never
- spring.datasource.schema与spring.datasource.data确定初始化SQL⽂文件
- spring.datasource.platform=hsqldb | h2 | oracle | mysql | postgresql（与前者对应）


### Spring Boot 做了哪些配置
DataSourceAutoConﬁguration 
- 配置 DataSource  

DataSourceTransactionManagerAutoConﬁguration 
- 配置 DataSourceTransactionManager

JdbcTemplateAutoConﬁguration 
- 配置 JdbcTemplate

符合条件时才进⾏行行配置



### HikariCP 为什什么快
1. 字节码级别优化（很多方法通过 JavaAssist ⽣成） 

2. ⼤大量量⼩小改进 
- 用 FastStatementList 代替 ArrayList
- 无锁集合 ConcurrentBag
- 代理类的优化（比如，⽤ invokestatic 代替了了 invokevirtual）

3.常用 HikariCP 配置参数
 常⽤用配置   
 • spring.datasource.hikari.maximumPoolSize=10  
 • spring.datasource.hikari.minimumIdle=10  
 • spring.datasource.hikari.idleTimeout=600000  
 • spring.datasource.hikari.connectionTimeout=30000  
 • spring.datasource.hikari.maxLifetime=1800000  

 其他配置详见HikariCP官网   
 • https://github.com/brettwooldridge/HikariCP


 ### Druid数据源配置
 Filter 配置 
 - spring.datasource.druid.filters=stat,config,wall,log4j  （全部使用默认值）  

 密码加密 
 - spring.datasource.password=<加密密码>
- spring.datasource.druid.filter.config.enabled=true
- spring.datasource.druid.connection-properties=config.decrypt=true;conﬁg.decrypt.key=<public-key>

 SQL防注⼊
 - spring.datasource.druid.filter.wall.enabled=true
 - spring.datasource.druid.filter.wall.db-type=h2
 - spring.datasource.druid.filter.wall.config.delete-allow=false
 - spring.datasource.druid.filter.wall.config.drop-table-allow=false

 ### H2 web server
 在应用程序中运行 H2 web server，这样就可以通过 H2 Console 来访问内存数据库。
 在 Spring 应用程序中，你可以在应用上下文中声明了一个 web server bean：
 ```java
import org.h2.tools.Server;
// --- snip ---
@Configuration
public class DataConfig {

    @Bean(initMethod = "start", destroyMethod = "stop")
    public Server h2WebServer() throws SQLException {
        return Server.createWebServer("-web", "-webAllowOthers", "-webDaemon", "-webPort", "8082");
    }
}
 ```
```properties
spring.datasource.url=jdbc:h2:mem:test
spring.datasource.username=sa
spring.datasource.password=sa
```
在应用程序运行期间，你可以在浏览器中输入 http://localhost:8082 来访问数据库了。
![h2](https://img-blog.csdnimg.cn/20200904145813737.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0tBSVpfTEVBUk4=,size_16,color_FFFFFF,t_70#pic_center)

进入：
![h21](https://img-blog.csdnimg.cn/20200904150008781.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0tBSVpfTEVBUk4=,size_16,color_FFFFFF,t_70#pic_center)

### 事务传播特性
![事务传播特性](https://img-blog.csdnimg.cn/20200904150830191.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0tBSVpfTEVBUk4=,size_16,color_FFFFFF,t_70#pic_center)

### 事务隔离特性
![事务隔离特性](https://img-blog.csdnimg.cn/20200904151144388.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0tBSVpfTEVBUk4=,size_16,color_FFFFFF,t_70#pic_center)

------
@Slf4j //Slf4j注解方式实现日志,默认日志级别为info
@Bean //实例化，初始化一个新对象，并交由IOC容器管理，默认为注解的方法名作为对象的名字
------
### 一些常用的注解

Java Config相关注解

- @Configuration
- @ImportResource
- @ComponentScan 
- @Bean
- @ConfigurationProperties

定义相关注解 
- @Component / @Repository / @Service
- @Controller / @RestController 
- @RequestMapping 

注⼊入相关注解 
- @Autowired / @Qualifier / @Resource 
- @Value 






