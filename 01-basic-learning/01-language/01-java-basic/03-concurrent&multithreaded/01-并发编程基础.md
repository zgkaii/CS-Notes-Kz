## 		一、进程与线程

### 1.1 进程与线程

**进程**：是指一个内存中运行的应用程序。每个进程都有一个独立的内存空间；系统运行一个程序即是一个进程从创建、运行到消亡的过程。大部分程序可以同时运行多个实例进程（例如记事本、画图、浏览器等），也有的程序只能启动一个实例进程（例如网易云音乐、360 安全卫士等）。

![](https://img-blog.csdnimg.cn/20200928223425572.png)

**线程**：线程是进程中的一个执行单元，负责当前进程中程序的执行，一个进程至少包含一个线程。

简而言之：一个程序运行后至少启动一个实例进程，一个进程中可包含多个线程 。

**二者对比**

* 进程基本上相互独立的，而线程存在于进程内，是进程的一个子集。
* 进程拥有共享的资源，如内存空间供其内部的线程共享。
* 进程间通信较为复杂
  * 同一台计算机的进程通信称为 IPC（Inter-process communication）。
  * 不同计算机之间的进程通信需要遵守网络协议，例如 HTTP。

* 线程通信相对简单，因为它们共享进程内的内存，一个例子是多个线程可以访问同一个共享变量。
* 线程更轻量，线程上下文切换成本一般要比进程上下文切换成本低。

### 1.2 并发与并行

* **并发**：指两个或多个任务在**同一时间段内**发生。
* **并行**：指两个或多个任务在**同一时刻**发生（同时发生）。

![](https://img-blog.csdnimg.cn/20200928145847985.png)

严格意义上来说，并行的多个任务是真实的同时执行，而对于并发来说，这个过程只是交替的，一会运行任务一,一会儿又运行任务二，系统会不停地在两者间切换。但对于外部观察者来说，即使多个任务是`串行并发`的，也会造成是多个任务并行执行的错觉（`微观串行，宏观并行`）。

实际上，如果系统内只有一个CPU，而现在而使用多线程或者多线程任务，那么真实环境中这些任务不可能真实并行的，毕竟一个CPU一次只能执行一条指令，这种情况下多线程或者多线程任务就是并发的，而不是并行，操作系统会不停的切换任务。真正的并行也只能够出现在拥有多个CPU的系统中（多核CPU）。